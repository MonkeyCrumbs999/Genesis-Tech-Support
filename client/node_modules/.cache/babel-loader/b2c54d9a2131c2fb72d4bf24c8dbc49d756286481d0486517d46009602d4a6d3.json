{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/webwa/Desktop/Genesis/Website/genesis-tech-support/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/webwa/Desktop/Genesis/Website/genesis-tech-support/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext}from\"react\";import{Link as RouterLink,useNavigate}from\"react-router-dom\";import{motion}from\"framer-motion\";import Logo from\"../assets/img/genesis-text.png\";import{MotionMain,fadeIn}from\"./animations/sharedAnimations\";import RegisterForm from\"./RegisterForm\";import{AuthContext}from\"../contexts/AuthContext\";// Import AuthContext\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MotionLink=motion(RouterLink);function Register(){var navigate=useNavigate();// Access register function from context\nvar _useContext=useContext(AuthContext),register=_useContext.register;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(formData){var username,email,password,firstName,lastName,address,phone,zipCode,success;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:username=formData.username,email=formData.email,password=formData.password,firstName=formData.firstName,lastName=formData.lastName,address=formData.address,phone=formData.phone,zipCode=formData.zipCode;console.log(\"Submitting registration form with data:\",formData);// Pass credentials to register function from AuthContext\n_context.next=4;return register(username,email,password,firstName,lastName,address,phone,zipCode);case 4:success=_context.sent;console.log(\"Registration result:\",success);if(success){console.log(\"Registration successful, navigating to /my-account\");navigate(\"/my-account\");}else{console.error(\"Registration error\");// Handle error during registration, like showing an error message to the user\n}case 7:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(MotionMain,{variants:fadeIn,initial:\"hidden\",animate:\"visible\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen flex-col justify-center px-6 py-28 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto h-10 w-auto\",src:Logo,alt:\"Genesis Tech Support/Install\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-2xl  leading-9 tracking-tight text-gray-900\",children:\"Create your account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsx(RegisterForm,{onSubmit:handleSubmit}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-12 text-center text-sm leading-5 text-gray-600\",children:[\"Already have an account?\",\" \",/*#__PURE__*/_jsx(MotionLink,{to:\"/login\",className:\"font-medium text-genesis-blue hover:text-genesis-blue-hover\",children:\"Login\"})]})]})]})});}export default Register;","map":{"version":3,"names":["React","useContext","Link","RouterLink","useNavigate","motion","Logo","MotionMain","fadeIn","RegisterForm","AuthContext","jsx","_jsx","jsxs","_jsxs","MotionLink","Register","navigate","_useContext","register","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","username","email","password","firstName","lastName","address","phone","zipCode","success","wrap","_callee$","_context","prev","next","console","log","sent","error","stop","_x","apply","arguments","variants","initial","animate","children","className","src","alt","onSubmit","to"],"sources":["C:/Users/webwa/Desktop/Genesis/Website/genesis-tech-support/client/src/components/Register.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport Logo from \"../assets/img/genesis-text.png\";\r\nimport { MotionMain, fadeIn } from \"./animations/sharedAnimations\";\r\nimport RegisterForm from \"./RegisterForm\";\r\nimport { AuthContext } from \"../contexts/AuthContext\"; // Import AuthContext\r\n\r\nconst MotionLink = motion(RouterLink);\r\n\r\nfunction Register() {\r\n  const navigate = useNavigate();\r\n\r\n  // Access register function from context\r\n  const { register } = useContext(AuthContext);\r\n\r\n  const handleSubmit = async (formData) => {\r\n    const {\r\n      username,\r\n      email,\r\n      password,\r\n      firstName,\r\n      lastName,\r\n      address,\r\n      phone,\r\n      zipCode,\r\n    } = formData;\r\n\r\n    console.log(\"Submitting registration form with data:\", formData);\r\n\r\n    // Pass credentials to register function from AuthContext\r\n    const success = await register(\r\n      username,\r\n      email,\r\n      password,\r\n      firstName,\r\n      lastName,\r\n      address,\r\n      phone,\r\n      zipCode\r\n    );\r\n\r\n    console.log(\"Registration result:\", success);\r\n\r\n    if (success) {\r\n      console.log(\"Registration successful, navigating to /my-account\");\r\n      navigate(\"/my-account\");\r\n    } else {\r\n      console.error(\"Registration error\");\r\n      // Handle error during registration, like showing an error message to the user\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MotionMain variants={fadeIn} initial=\"hidden\" animate=\"visible\">\r\n      <div className=\"flex min-h-screen flex-col justify-center px-6 py-28 lg:px-8\">\r\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <img\r\n            className=\"mx-auto h-10 w-auto\"\r\n            src={Logo}\r\n            alt=\"Genesis Tech Support/Install\"\r\n          />\r\n          <h2 className=\"mt-10 text-center text-2xl  leading-9 tracking-tight text-gray-900\">\r\n            Create your account\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <RegisterForm onSubmit={handleSubmit} />\r\n\r\n          <p className=\"mt-12 text-center text-sm leading-5 text-gray-600\">\r\n            Already have an account?{\" \"}\r\n            <MotionLink\r\n              to=\"/login\"\r\n              className=\"font-medium text-genesis-blue hover:text-genesis-blue-hover\">\r\n              Login\r\n            </MotionLink>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </MotionMain>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}