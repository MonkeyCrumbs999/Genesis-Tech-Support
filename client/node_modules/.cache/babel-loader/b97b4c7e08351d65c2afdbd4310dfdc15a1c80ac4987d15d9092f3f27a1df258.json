{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import{motion,AnimatePresence}from\"framer-motion\";import{Link}from\"react-router-dom\";import{useContext}from\"react\";import{AuthContext}from\"../contexts/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MobileSidebar(_ref){var isOpen=_ref.isOpen,toggleMenu=_ref.toggleMenu;var sidebar={open:{x:0},closed:{x:\"-100%\"}};var _useContext=useContext(AuthContext),user=_useContext.user;var sidebarRef=useRef(null);// Create a ref to the sidebar\nuseEffect(function(){function handleClickOutside(event){// If sidebar is open and click was outside of the sidebar, then close it\nif(isOpen&&sidebarRef.current&&!sidebarRef.current.contains(event.target)){toggleMenu(event);}}// Attach the listener to the document\ndocument.addEventListener(\"mousedown\",handleClickOutside);// Clean up the listener when the component unmounts\nreturn function(){document.removeEventListener(\"mousedown\",handleClickOutside);};},[isOpen,toggleMenu]);return/*#__PURE__*/_jsx(AnimatePresence,{children:isOpen&&/*#__PURE__*/_jsxs(motion.nav,{ref:sidebarRef// Attach the ref to the sidebar\n,initial:\"closed\",animate:isOpen?\"open\":\"closed\",exit:\"closed\",variants:sidebar,transition:{damping:20,stiffness:400},className:\"fixed top-0 left-0 bottom-0 w-64 bg-white p-4 overflow-y-auto z-50 border-r-[5px] border-genesis-orange\",onClick:function onClick(event){return event.stopPropagation();},children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleMenu,className:\"mb-4 ml-2 text-black\",children:\"Close Menu\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mt-2 text-xl text-black font-aoboshi\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"mx-2 my-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:toggleMenu,children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"mx-2 my-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/services\",onClick:toggleMenu,children:\"Our Services\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"mx-2 my-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/appointment\",onClick:toggleMenu,children:\"Schedule Appointment\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"mx-2 my-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/contact-us\",onClick:toggleMenu,children:\"Contact Us\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"mx-2 hover:text-genesis-orange transition ease-in-out duration-500\",children:user?/*#__PURE__*/_jsx(Link,{to:\"/my-account\",children:\"My Account\"}):/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})})]})]})});}export default MobileSidebar;","map":{"version":3,"names":["React","useEffect","useRef","motion","AnimatePresence","Link","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","MobileSidebar","_ref","isOpen","toggleMenu","sidebar","open","x","closed","_useContext","user","sidebarRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","children","nav","ref","initial","animate","exit","variants","transition","damping","stiffness","className","onClick","stopPropagation","to"],"sources":["C:/Users/webwa/Desktop/Genesis/Website/genesis-tech-support/client/src/components/MobileSidebar.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nfunction MobileSidebar({ isOpen, toggleMenu }) {\r\n  const sidebar = {\r\n    open: { x: 0 },\r\n    closed: { x: \"-100%\" },\r\n  };\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const sidebarRef = useRef(null); // Create a ref to the sidebar\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      // If sidebar is open and click was outside of the sidebar, then close it\r\n      if (\r\n        isOpen &&\r\n        sidebarRef.current &&\r\n        !sidebarRef.current.contains(event.target)\r\n      ) {\r\n        toggleMenu(event);\r\n      }\r\n    }\r\n\r\n    // Attach the listener to the document\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n\r\n    // Clean up the listener when the component unmounts\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [isOpen, toggleMenu]);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.nav\r\n          ref={sidebarRef} // Attach the ref to the sidebar\r\n          initial=\"closed\"\r\n          animate={isOpen ? \"open\" : \"closed\"}\r\n          exit=\"closed\"\r\n          variants={sidebar}\r\n          transition={{ damping: 20, stiffness: 400 }}\r\n          className={`fixed top-0 left-0 bottom-0 w-64 bg-white p-4 overflow-y-auto z-50 border-r-[5px] border-genesis-orange`}\r\n          onClick={(event) => event.stopPropagation()}>\r\n          <button onClick={toggleMenu} className=\"mb-4 ml-2 text-black\">\r\n            Close Menu\r\n          </button>\r\n          <ul className=\"mt-2 text-xl text-black font-aoboshi\">\r\n            <li className=\"mx-2 my-4\">\r\n              <Link to=\"/\" onClick={toggleMenu}>\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li className=\"mx-2 my-4\">\r\n              <Link to=\"/services\" onClick={toggleMenu}>\r\n                Our Services\r\n              </Link>\r\n            </li>\r\n            {/* <li className=\"mx-2 my-4\">\r\n              <Link to=\"/subscription\" onClick={toggleMenu}>\r\n                My Subscription\r\n              </Link>\r\n            </li> */}\r\n            <li className=\"mx-2 my-4\">\r\n              <Link to=\"/appointment\" onClick={toggleMenu}>\r\n                Schedule Appointment\r\n              </Link>\r\n            </li>\r\n            <li className=\"mx-2 my-4\">\r\n              <Link to=\"/contact-us\" onClick={toggleMenu}>\r\n                Contact Us\r\n              </Link>\r\n            </li>\r\n            <li className=\"mx-2 hover:text-genesis-orange transition ease-in-out duration-500\">\r\n              {user ? (\r\n                <Link to=\"/my-account\">My Account</Link>\r\n              ) : (\r\n                <Link to=\"/login\">Login</Link>\r\n              )}\r\n            </li>\r\n          </ul>\r\n        </motion.nav>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nexport default MobileSidebar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}